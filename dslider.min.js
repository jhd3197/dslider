for(var dslider=document.querySelectorAll("dslider"),i=0;i<dslider.length;i++){var dsliderSlide=dslider[i].querySelector("slide"),dsliderSlideFocus=!1,dsliderThumbnail=dslider[i].querySelector("thumbnail"),dsliderBtnLeft=dslider[i].querySelector("#left"),dsliderBtnRight=dslider[i].querySelector("#right"),dsliderimagesInSlide=dslider[i].querySelector("slide").getElementsByClassName("item");dslider[i].addEventListener("mouseenter",function(){dsliderSlideFocus=!0}),dslider[i].addEventListener("mouseleave",function(){dsliderSlideFocus=!1});var secondesInSlider=parseInt(dslider[i].getAttribute("seconds"));secondesInSlider||(secondesInSlider=3e3),setInterval(function(){dsliderSlideFocus||(dsliderSlide.scrollLeft==dsliderSlide.clientWidth*(dsliderimagesInSlide.length-1)?dsliderSlide.scrollLeft=0:dsliderSlide.scrollLeft+=dsliderSlide.clientWidth)},secondesInSlider),dsliderBtnLeft.addEventListener("click",function(){0==dsliderSlide.scrollLeft?dsliderSlide.scrollLeft=dsliderSlide.clientWidth*(dsliderimagesInSlide.length-1):dsliderSlide.scrollLeft-=dsliderSlide.clientWidth}),dsliderBtnRight.addEventListener("click",function(){dsliderSlide.scrollLeft==dsliderSlide.clientWidth*(dsliderimagesInSlide.length-1)?dsliderSlide.scrollLeft=0:dsliderSlide.scrollLeft+=dsliderSlide.clientWidth});for(var t=0;t<dsliderimagesInSlide.length;t++){if("landscape"==dsliderimageOrientation(dsliderimagesInSlide[t].querySelector("img").src)){dsliderimagesInSlide[t].querySelector("img").style.width="100%";var dslidermrgTop=dsliderSlide.offsetHeight-dsliderimagesInSlide[t].querySelector("img").clientHeight;dslidermrgTop/=2,dsliderimagesInSlide[t].querySelector("img").style.marginTop=dslidermrgTop+"px"}else dsliderimagesInSlide[t].querySelector("img").style.height="100%",dsliderimagesInSlide[t].querySelector("img").style.display="block",dsliderimagesInSlide[t].querySelector("img").style.margin="auto";(att=document.createAttribute("dsliderPosition")).value=t*dsliderSlide.clientWidth,dsliderimagesInSlide[t].querySelector("img").setAttributeNode(att);var att,DOM_img=document.createElement("img");DOM_img.src=dsliderimagesInSlide[t].querySelector("img").src,DOM_img.style.height="100%",(att=document.createAttribute("dsliderPosition")).value=t*dsliderSlide.clientWidth,DOM_img.setAttributeNode(att),DOM_img.onclick=function(){dsliderSlide.scrollLeft=parseInt(this.getAttribute("dsliderPosition"))},dsliderThumbnail.appendChild(DOM_img)}dsliderSlide.addEventListener("scroll",function(e){var i=dsliderSlide.scrollLeft;document.getElementById("scroll").innerHTML="Scroll: "+i})}function dsliderimageOrientation(e){var i=new Image;return i.src=e,i.naturalWidth>i.naturalHeight?"landscape":i.naturalWidth<i.naturalHeight?"portrait":"even"}
